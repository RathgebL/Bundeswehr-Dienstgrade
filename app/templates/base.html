<!doctype html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <title>Bundeswehr Dienstgrade</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Eigene Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    {# Hintergrundlogik direkt im Template #}
    {% set branch = request.args.get('branch') or session.get('default_branch', 'Heer') %}
    {% set backgrounds = session.get('backgrounds', {
        'Heer': 'Hintergrund-Heer-Wald.png',
        'Luftwaffe': 'Hintergrund-Luftwaffe-Grau.png',
        'Marine': 'Hintergrund-Marine-Hell.png'
    }) %}
    {% set background = backgrounds.get(branch, 'Hintergrund-Heer-Wald.png') %}
    
    <style>
        body {
            background-image: url('{{ url_for("static", filename="images/" + background) }}') !important;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            color: #f3f4f6;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container d-flex justify-content-between">
            <a class="navbar-brand" href="/">Bundeswehr Dienstgrade</a>
            <a href="{{ url_for('main.settings') }}" class="btn btn-outline-light btn-sm">Einstellungen</a>
        </div>
    </nav>

    <main class="container mt-4">
        {% block content %}{% endblock %}
    </main>
</body>
</html>