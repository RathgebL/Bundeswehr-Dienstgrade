{% extends "base.html" %}

{% block content %}
<div class="quiz">
  <h1 class="quiz__title">Quizmodus</h1>

  <form id="quizForm" class="quiz__form">
    <!-- Spielmodus -->
    <div class="quiz__section">
      <label for="mode" class="quiz__label">Spielmodus:</label>
      <select name="mode" id="mode" class="select-base">
        <option value="normal" selected>Unbegrenzt</option>
        <option value="timer">Zeitspiel</option>
      </select>
    </div>

    <!-- Truppenteil -->
    <div class="quiz__section">
      <label for="branch" class="quiz__label">Truppenteil:</label>
      <select name="branch" id="branch" class="select-base">
        {% for b in branches %}
          <option value="{{ b }}" {% if b == selected_branch %}selected{% endif %}>{{ b }}</option>
        {% endfor %}
      </select>
    </div>
  </form>

  <div class="quiz__buttons">
    <button type="button" class="quiz__button" onclick="startQuiz(1)">Dienstgrad erkennen</button>
    <button type="button" class="quiz__button" onclick="startQuiz(2)">Schulterklappe finden</button>
  </div>
</div>

<script>
function startQuiz(type) {
  const mode = document.getElementById("mode").value;

  if (type === 1) {
    window.location.href = mode === "timer"
      ? "{{ url_for('main.quiz1_timer') }}"
      : "{{ url_for('main.quiz1') }}";
  } else if (type === 2) {
    window.location.href = mode === "timer"
      ? "{{ url_for('main.quiz2_timer') }}"
      : "{{ url_for('main.quiz2') }}";
  }
}
</script>
{% endblock %}