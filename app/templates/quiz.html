<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Bundeswehr Dienstgrade – Quiz</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script>
        function checkAnswer(selected, correctId) {
            const buttons = document.querySelectorAll("button[data-id]");
            buttons.forEach(btn => btn.disabled = true);
            if (selected === correctId) {
                document.getElementById("feedback").innerText = "Richtig!";
                document.getElementById(selected).classList.add("bg-green-400");
            } else {
                document.getElementById("feedback").innerText = "Falsch!";
                document.getElementById(selected).classList.add("bg-red-400");
                document.getElementById(correctId).classList.add("bg-green-400");
            }
            document.getElementById("next-btn").classList.remove("hidden");
        }
    </script>
</head>
<body class="bg-gray-50 text-center">
    <div class="max-w-xl mx-auto py-10">
        <h1 class="text-3xl font-bold mb-6">Quiz: Schulterklappen erkennen</h1>

        <img src="{{ url_for('static', filename='images/' + correct.image_filename) }}"
             alt="{{ correct.title }}" class="mx-auto mb-6 h-32 shadow-lg rounded">

        <div class="grid grid-cols-2 gap-4">
            {% for opt in options %}
            <button id="{{ opt.id }}" data-id="{{ opt.id }}" onclick="checkAnswer({{ opt.id }}, {{ correct.id }})"
                    class="bg-blue-500 text-white p-3 rounded hover:bg-blue-600 transition">
                {{ opt.title }}
            </button>
            {% endfor %}
        </div>

        <p id="feedback" class="mt-6 text-xl font-semibold"></p>

        <a href="{{ url_for('main.quiz') }}" id="next-btn"
           class="hidden inline-block mt-6 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition">
            Nächste Frage
        </a>
    </div>
</body>
</html>