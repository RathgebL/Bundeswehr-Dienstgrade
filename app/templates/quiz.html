{% extends "base.html" %}

{% block content %}
<div class="quiz-container">
    <h1 class="quiz-title">Quiz: Schulterklappen erkennen</h1>

    <div class="quiz-card">
        <img src="{{ url_for('static', filename='images/' + correct.image_filename) }}"
             alt="{{ correct.title }}"
             class="quiz-image">

        <div class="quiz-options">
            {% for opt in options %}
            <button id="{{ opt.id }}" data-id="{{ opt.id }}"
                    onclick="checkAnswer({{ opt.id }}, {{ correct.id }})"
                    class="quiz-btn">
                {{ opt.title }}
            </button>
            {% endfor %}
        </div>

        <p id="feedback" class="quiz-feedback"></p>

        <a href="{{ url_for('main.quiz') }}" id="next-btn" class="quiz-next d-none">
            NÃ¤chste Frage
        </a>
    </div>
</div>

<script>
function checkAnswer(selected, correctId) {
    const buttons = document.querySelectorAll("button[data-id]");
    buttons.forEach(btn => btn.disabled = true);
    if (selected === correctId) {
        document.getElementById("feedback").innerText = "Richtig!";
        document.getElementById(selected).classList.add("correct");
    } else {
        document.getElementById("feedback").innerText = "Falsch!";
        document.getElementById(selected).classList.add("wrong");
        document.getElementById(correctId).classList.add("correct");
    }
    document.getElementById("next-btn").classList.remove("d-none");
}
</script>
{% endblock %}